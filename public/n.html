
<html>
    <head>
        <title>Dodawanie</title>
        <meta charset=“UTF-8”>
        <script src="https://unpkg.com/tesseract.js@2.1.5/dist/tesseract.min.js"></script>
        <link rel="stylesheet" type="text/css" href="mainstyle.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
        <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
        <script src="style.js"></script>
    </head>
    <body>
        <span class="material-symbols-outlined" id="add" title="Edytuj" onclick="location.href='p.html'">
            home
            </span>
            <p>Obraz</p>
            <input  type="file" id="image-file" accept="image/*">
            <button onclick="c()" id="ok">OK</button>
            <hr style="border-top: 8px solid rgb(80, 80, 80); border-radius: 3">
            <p>Przedmiot:</p>
        <select id="mySelect">
            <option value="Matematyka">Matematyka</option>
            <option value="J.polski">J.polski</option>
            <option value="Historia">Historia</option>
            <option value="Chemia">Chemia</option>
            <option value="WOS">WOS</option>
          </select>
          <p>Treść:</p>
          <input type="text" id="gf">
          <br>
          <br>
          <button onclick="ile()" id="zat">Zatwierdź</button>
          <br>
          <hr style="border-top: 10px solid rgb(80, 80, 80); border-radius: 3px;">
          <p>Przedmiot:</p>
          <input type="text" id="prz">
          <p>Treść:</p>
          <input type="text" id="gff">
          <p>Kolor:</p>
          <input type="color" id="v">
          <br>
          <br>
          <button onclick="ilee()" id="zat">Zatwierdź</button>
          <br>
          <br>
          <br>
          <br>
          
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
    apiKey: "AIzaSyDkOj4i72ophZEnE-eUm3msqBqrGVSGNis",
    authDomain: "ile-lekcji.firebaseapp.com",
    databaseURL: "https://ile-lekcji-default-rtdb.firebaseio.com",
    projectId: "ile-lekcji",
    storageBucket: "ile-lekcji.appspot.com",
    messagingSenderId: "801086162931",
    appId: "1:801086162931:web:dfce03462d98a12eb7f486",
    measurementId: "G-T1ZEMDN90X"
  };
  firebase.initializeApp(firebaseConfig);
  var today = new Date();
var dd = String(today.getDate()).padStart(2, '0');
var mm = String(today.getMonth() + 1).padStart(2, '0');
var yyyy = today.getFullYear();

today = dd + '/' + mm + '/' + yyyy;
console.log(today);

function c(){
    const inputElement = document.querySelector("#image-file");
      inputElement.addEventListener("change", async function() {
        if (this.files.length === 0) return;

        // Wczytywanie obrazu do aplikacji
        const file = this.files[0];
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = async function() {
          const image = new Image();
          image.src = reader.result;

          // rozpoznawanie tekstu z obrazka
          const text = await Tesseract.recognize(image);

          // wyświetlanie wyniku w elemencie o id "ocr-result"
          document.querySelector("#gf").value = text;
        };
      });
      
}
    function ile() {

    var select = document.getElementById("mySelect");
console.log(select.value); // Zwróci wartość opcji

var gf = document.getElementById("gf")
  var database = firebase.database();

        database.ref("notes/" + select.value).set({
            title: select.value,
            content: gf.value,
            type: select.value,
            datee: today
            
  });
  
    }

function ilee() {
    
    var select = document.getElementById("prz");
console.log(select.value); // Zwróci wartość opcji

    var gf = document.getElementById("gff")
  var database = firebase.database();
  var colr = document.getElementById("v")

        database.ref("notes/" + select.value).set({
            title: select.value,
            content: gf.value,
            type: colr.value,
            datee: today
            
  });
  
}
    </script>
    <div id="bottom-bar">
        <p id="text">Hubert Kula --- v.1.7.4</p>
        <span class="material-symbols-outlined" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSce2fPXZNdcFH2RVE-4q4GjK90QSYP7wI9HSEtUsICqii_tDw/viewform?usp=sf_link')">bug_report</span>
    </div>
    </body>
</html>

